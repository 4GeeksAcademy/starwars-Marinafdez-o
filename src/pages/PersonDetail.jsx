import { useEffect, useState } from 'react';
import { useParams } from 'react-router-dom';
import Navbar from '../components/Navbar';

const imageMap = {
  'Luke Skywalker': 'https://th.bing.com/th/id/OIP.BLxAscLLl1qs1kqy-6iGCwHaKs?w=186&h=268&c=7&r=0&o=7&dpr=1.8&pid=1.7&rm=3',
  'Darth Vader': 'https://th.bing.com/th/id/R.848c4749c4fb9e1ed9c167d8363aee05?rik=loP8UR9uVXBCjw&pid=ImgRaw&r=0',
  'Leia Organa': 'data:image/webp;base64,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',
  'Obi-Wan Kenobi': 'https://upload.wikimedia.org/wikipedia/en/3/32/Ben_Kenobi.png',
  'R2-D2': 'https://upload.wikimedia.org/wikipedia/en/3/39/R2-D2_Droid.png',
  'C-3PO': 'https://upload.wikimedia.org/wikipedia/en/5/5c/C-3PO_droid.png'
};

const PersonDetail = () => {
  const { id } = useParams();
  const [person, setPerson] = useState(null);

  useEffect(() => {
    const fetchDetail = async () => {
      const res = await fetch(`https://www.swapi.tech/api/people/${id}`);
      const data = await res.json();
      const props = data.result.properties;
      const image = imageMap[props.name] || 'https://upload.wikimedia.org/wikipedia/commons/6/6c/Star_Wars_Logo.svg';

      setPerson({ ...props, image });
    };
    fetchDetail();
  }, [id]);

  if (!person) return <p style={{ color: 'white' }}>Cargando...</p>;

  return (
    <>
      <Navbar />
      <div className="people-container">
        <h2>{person.name}</h2>
        <img src={person.image} alt={person.name} className="character-img" />
        <p><strong>Altura:</strong> {person.height} cm</p>
        <p><strong>Peso:</strong> {person.mass} kg</p>
        <p><strong>Género:</strong> {person.gender}</p>
        <p><strong>Piel:</strong> {person.skin_color}</p>
        <p><strong>Ojos:</strong> {person.eye_color}</p>
        <p><strong>Nacimiento:</strong> {person.birth_year}</p>
      </div>
    </>
  );
};

export default PersonDetail;
